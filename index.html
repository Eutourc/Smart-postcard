<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>Smart Postcard — Mobile Preview</title>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<style>
  :root{
    --brand:#F4BE00;         /* 顶部金黄 */
    --ink:#1b1e28;           /* 深字色 */
    --muted:#6b7280;         /* 次要字色 */
    --bg:#fffaf0;            /* 柔白背景(极淡暖) */
    --chip:#1118270d;        /* 特色集锦底色(透明) */
    --radius:18px;
    --shadow:0 10px 25px rgba(17,24,39,.10);
    --maxw:980px;
  }

  html,body{height:100%;background:#fff;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans SC","PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;color:var(--ink);}
  /* 让首屏无需下拉：头部56px+内容自适应高度 */
  body{display:flex;flex-direction:column;}
  header{
    background:var(--brand);
    color:#121212;
    height:56px; display:flex; align-items:center; justify-content:center;
    position:sticky; top:0; z-index:20;
    box-shadow:0 4px 12px rgba(0,0,0,.06);
  }
  .bar{width:100%; max-width:var(--maxw); display:flex; align-items:center; gap:12px; padding:0 12px;}
  .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px; font-size:20px;}
  .brand img{height:28px; width:auto; display:block;}
  .spacer{flex:1}
  .iconbtn{height:36px; min-width:36px; border-radius:999px; background:#fff; display:inline-grid; place-items:center; box-shadow:0 2px 8px rgba(0,0,0,.12); border:1px solid #00000010}
  .pill{height:36px; padding:0 12px; border-radius:999px; background:#fff; display:flex; align-items:center; gap:8px; font-weight:700; box-shadow:0 2px 8px rgba(0,0,0,.12); border:1px solid #00000010}
  .menu{height:36px; width:36px}

  main{flex:1; display:flex; justify-content:center; background:var(--bg);}
  .wrap{width:100%; max-width:var(--maxw); padding:14px 12px 16px;}
  h1{margin:8px 4px 10px; font-size:clamp(20px,4.6vw,30px); line-height:1.22; font-weight:800;}

  /* 顶部淡黄横条（按你要求已删除，此处保留样式但不使用） */

  /* 海报区 */
  .card{background:#fff; border-radius:22px; box-shadow:var(--shadow); padding:14px; position:relative;}
  .stage{position:relative; border-radius:18px; background:#f7f7f7; overflow:hidden; display:grid; place-items:center; padding:10px;}
  .postcard{width:100%; max-width:min(660px,92vw); height:auto; display:block; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,.12);}
  /* 大箭头 + 说明条 */
  .navrow{display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:12px; margin:10px 0 6px;}
  .big-arrow{
    width:48px; height:48px; border-radius:12px; background:#fff; display:grid; place-items:center;
    box-shadow:0 6px 16px rgba(0,0,0,.15); border:1px solid #00000014; user-select:none;
  }
  .big-arrow svg{width:22px; height:22px;}
  .hint{
    border:2px dashed #e5c64a; background:#fff7cc; color:#111; padding:10px 12px; border-radius:12px;
    text-align:center; font-size:clamp(14px,3.6vw,16px); line-height:1.35; min-height:42px; display:flex; align-items:center; justify-content:center;
  }

  /* 小箭头（绿点+箭尖） */
  .pin{position:absolute; width:34px; height:34px; background:#14b86a; border-radius:999px; display:grid; place-items:center;
       box-shadow:0 8px 16px rgba(20,184,106,.35); transform:translate(-50%,-50%);}
  .pin svg{width:18px; height:18px; fill:#fff;}

  /* 特色集锦 & 按钮 */
  .chips{display:flex; flex-wrap:wrap; gap:8px; margin:10px 2px 14px;}
  .chip{padding:8px 12px; background:var(--chip); border-radius:999px; font-size:13px; color:#374151; border:1px dashed #e5e7eb}
  .btnrow{display:flex; gap:14px; margin-top:2px;}
  .btn{
    flex:1; height:56px; border-radius:28px; font-size:clamp(15px,3.8vw,18px); font-weight:800; border:none;
    box-shadow:0 10px 24px rgba(0,0,0,.12); cursor:pointer;
  }
  .btn.primary{background:var(--brand)}
  .btn.ghost{background:#f1f2f6; color:#374151}

  footer{padding:8px 12px 16px; text-align:center; color:var(--muted); font-size:12px}

  /* 让首屏尽量不滚动：限制整体高度 */
  @media (max-width:420px){
    .postcard{max-width:92vw;}
    .btn{height:52px;}
  }
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="brand">
      <img src="logo.png?v=v20007" alt="logo" />
      <span>Smart Postcard</span>
    </div>
    <div class="spacer"></div>

    <!-- 购物车 -->
    <button class="iconbtn" aria-label="Cart" onclick="alert(lang==='zh'?'购物车暂未开启':'Cart coming soon')">
      <svg viewBox="0 0 24 24" width="18" height="18"><path d="M7 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm10 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM3 2h2l2.7 12.3A2 2 0 0 0 9.66 16h7.92a2 2 0 0 0 1.96-1.64L22 6H6.42l-.4-2H3Z"/></svg>
    </button>

    <!-- 语言 -->
    <button id="langBtn" class="pill" onclick="toggleLang()">
      <span id="langText">中文</span>
    </button>

    <!-- 菜单 -->
    <button class="iconbtn menu" aria-label="Menu" onclick="alert(lang==='zh'?'菜单将显示更多信息：FAQ、联系等':'Menu will show FAQ, contact, etc.')">
      <svg viewBox="0 0 24 24" width="18" height="18"><path d="M3 6h18v2H3V6Zm0 5h18v2H3v-2Zm0 5h18v2H3v-2Z"/></svg>
    </button>
  </div>
</header>

<main>
  <div class="wrap">

    <!-- 标题（中英自动切换） -->
    <h1 id="title">创建您举世无双的纪念明信片</h1>

    <div class="card">

      <!-- 上方：说明条 + 大箭头 -->
      <div class="navrow">
        <button class="big-arrow" id="prevBtn" aria-label="Prev">
          <svg viewBox="0 0 24 24"><path d="M15.5 19 8.5 12l7-7"/></svg>
        </button>

        <div id="hint" class="hint">【邮票】：可自定义“邮票图案”。</div>

        <button class="big-arrow" id="nextBtn" aria-label="Next">
          <svg viewBox="0 0 24 24"><path d="M8.5 5 15.5 12l-7 7"/></svg>
        </button>
      </div>

      <!-- 明信片舞台 -->
      <div class="stage">
        <img id="poster" class="postcard" src="postcard_cn.png?v=v20007" alt="postcard preview" />
        <!-- 小箭头（默认停在邮票上方） -->
        <div id="pin" class="pin" style="left:74%; top:34%;">
          <svg viewBox="0 0 24 24"><path d="M12 16l-5-6h10l-5 6Z"/></svg>
        </div>
      </div>

      <!-- 特色集锦 -->
      <div class="chips" id="chips">
        <span class="chip">轻松制作</span>
        <span class="chip">实体打印</span>
        <span class="chip">纪念与集邮</span>
        <span class="chip">全球寄送</span>
        <span class="chip">A5 大尺寸</span>
        <span class="chip">物超所值</span>
      </div>

      <!-- 按钮 -->
      <div class="btnrow">
        <button class="btn primary" onclick="selectType('souvenir')" id="btnSouvenir">纪念明信片</button>
        <button class="btn ghost" onclick="selectType('traditional')" id="btnTraditional">传统明信片</button>
      </div>
      <div class="btnrow" style="margin-top:10px;">
        <button class="btn primary" onclick="startFlow()" id="btnStart">开始</button>
      </div>
    </div>

  </div>
</main>

<footer>
  © Smart Postcard — mobile preview · Build v20007 · <span id="date"></span>
</footer>

<script>
  // ————— 语言 & 文案 —————
  let lang = 'zh';
  const i18n = {
    zh: {
      title: '创建您举世无双的纪念明信片',
      steps: [
        { key:'stamp',   text:'【邮票】：可自定义“邮票图案”。', pos:{left:0.74, top:0.34} },
        { key:'qr',      text:'【二维码】：可绑定“到此一游”坐标点。', pos:{left:0.50, top:0.26} },
        { key:'address', text:'【收件地址】：填写邮寄信息。', pos:{left:0.77, top:0.60} },
        { key:'text',    text:'【正文】：记录旅行文字或留言。', pos:{left:0.28, top:0.56} }
      ],
      chips:['轻松制作','实体打印','纪念与集邮','全球寄送','A5 大尺寸','物超所值'],
      btnSouvenir:'纪念明信片',
      btnTraditional:'传统明信片',
      btnStart:'开始',
      langBtn:'中文'
    },
    en: {
      title: 'Create your unique souvenir postcard',
      steps: [
        { key:'stamp',   text:'[Stamp]: Choose / upload your stamp image.', pos:{left:0.74, top:0.34} },
        { key:'qr',      text:'[QR Code]: Mark your visit at a location.', pos:{left:0.50, top:0.26} },
        { key:'address', text:'[Address]: Fill the recipient info.', pos:{left:0.77, top:0.60} },
        { key:'text',    text:'[Message]: Write your words or story.', pos:{left:0.28, top:0.56} }
      ],
      chips:['Easily make','Physically print','Souvenir & Philately','Worldwide delivery','A5 big size','Value for money'],
      btnSouvenir:'Souvenir Postcard',
      btnTraditional:'Traditional Postcard',
      btnStart:'Start',
      langBtn:'EN'
    }
  };

  // ———— 状态 ————
  let step = 0;               // 当前步骤索引
  let type = 'souvenir';      // 明信片类型
  const poster = document.getElementById('poster');
  const pin = document.getElementById('pin');
  const hint = document.getElementById('hint');

  function applyLang(){
    const t = i18n[lang];
    document.getElementById('title').textContent = t.title;
    document.getElementById('langText').textContent = lang==='zh'?'中文':'EN';
    document.getElementById('btnSouvenir').textContent = t.btnSouvenir;
    document.getElementById('btnTraditional').textContent = t.btnTraditional;
    document.getElementById('btnStart').textContent = t.btnStart;

    // 特色集锦
    const chipsWrap = document.getElementById('chips');
    chipsWrap.innerHTML = '';
    t.chips.forEach(c=>{
      const s = document.createElement('span'); s.className='chip'; s.textContent=c; chipsWrap.appendChild(s);
    });

    // 明信片图
    poster.src = (lang==='zh' ? 'postcard_cn.png' : 'postcard_en.png') + '?v=v20007';

    // 当前步骤提示与小箭头
    updateStep(0,true);
  }

  function toggleLang(){
    lang = (lang==='zh') ? 'en' : 'zh';
    applyLang();
  }

  // 步骤切换 & 小箭头移动
  function updateStep(delta=0, reset=false){
    const t = i18n[lang].steps;
    if(!reset){ step = (step + delta + t.length) % t.length; } else { step = 0; }
    hint.textContent = t[step].text;

    // 把相对位置转换为像素
    const box = poster.getBoundingClientRect();
    // 图片在舞台内，需换算 offset
    const stageBox = poster.parentElement.getBoundingClientRect();
    const left = stageBox.left + (box.width * t[step].pos.left) + (box.left - stageBox.left);
    const top  = stageBox.top  + (box.height* t[step].pos.top ) + (box.top  - stageBox.top);

    pin.style.left = left + 'px';
    pin.style.top  = top  + 'px';
  }

  document.getElementById('prevBtn').addEventListener('click', ()=>updateStep(-1));
  document.getElementById('nextBtn').addEventListener('click', ()=>updateStep(1));

  function selectType(which){
    type = which;
    // 仅视觉强调
    const a=document.getElementById('btnSouvenir'), b=document.getElementById('btnTraditional');
    if(which==='souvenir'){ a.classList.add('primary'); a.classList.remove('ghost'); b.classList.add('ghost'); b.classList.remove('primary'); }
    else { b.classList.add('primary'); b.classList.remove('ghost'); a.classList.add('ghost'); a.classList.remove('primary'); }
  }

  function startFlow(){
    alert(lang==='zh' ? '进入制作页：先选择背面/邮票图案…（此处预留跳转）':'Go to making page: choose backside/stamp… (placeholder)');
  }

  // 初始化
  (function init(){
    // 日期
    document.getElementById('date').textContent = new Date().toISOString().slice(0,10);
    // 初次应用中文
    applyLang();
    // 强制选中“纪念明信片”
    selectType('souvenir');
    // 当图片加载完，重新定位小箭头，保证不同手机比例正确
    poster.addEventListener('load', ()=>updateStep(0,true));
    window.addEventListener('resize', ()=>updateStep(0,true));
  })();
</script>
</body>
</html>
