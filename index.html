<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Smart Postcard — mobile preview</title>
<meta http-equiv="Cache-Control" content="no-store, max-age=0, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<style>
:root{ --brand:#FFC400; --text:#1f2937; --muted:#6b7280; --panel:#fff3bf;
       --btn-strong:#ffcc00; --btn-weak:#e9ecef; --arrow:#e5e7eb; --accent:#22c55e;
       --base:390; --s:1; }

*{box-sizing:border-box}
html,body{margin:0;background:#fff;color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"PingFang SC","Hiragino Sans GB","Noto Sans CJK SC","Microsoft YaHei","WenQuanYi Micro Hei",sans-serif}

.bar{position:sticky;top:0;z-index:20;background:var(--brand);color:#111;
  padding:10px 14px;box-shadow:0 1px 0 rgba(0,0,0,.06)}
.bar-row{max-width:calc(720px * var(--s));margin:0 auto;display:flex;align-items:center;justify-content:space-between}
.brand{font-weight:900;font-size:calc(24px * var(--s))}
.tools{display:flex;align-items:center;gap:calc(10px * var(--s))}
.pill{position:relative;display:flex;align-items:center;gap:calc(8px * var(--s));
  background:#fff;border-radius:999px;padding:calc(8px * var(--s)) calc(12px * var(--s));box-shadow:0 2px 6px rgba(0,0,0,.08)}
.cart-badge{position:absolute;top:calc(-7px * var(--s));left:calc(-7px * var(--s));
  width:calc(22px * var(--s));height:calc(22px * var(--s));border-radius:999px;background:#fff;border:2px solid #f3f4f6;
  display:grid;place-items:center;font-weight:800;font-size:calc(12px * var(--s))}
.lang{background:#fff;border:none;border-radius:999px;padding:calc(8px * var(--s)) calc(12px * var(--s));font-weight:800;box-shadow:0 2px 6px rgba(0,0,0,.08)}

.wrap{max-width:calc(720px * var(--s));margin:0 auto;padding:calc(18px * var(--s)) calc(16px * var(--s)) calc(28px * var(--s))}
h1{margin:calc(8px * var(--s)) 0 calc(14px * var(--s));font-size:calc(32px * var(--s));line-height:1.15}
.lead{background:var(--panel);border-radius:calc(16px * var(--s));padding:calc(14px * var(--s)) calc(16px * var(--s));line-height:1.45;font-weight:600;font-size:calc(16px * var(--s))}

.stage{margin-top:calc(14px * var(--s));background:#f8fafc;border-radius:calc(22px * var(--s));padding:calc(14px * var(--s));box-shadow:0 4px 24px rgba(0,0,0,.06)}
.poster{position:relative;display:flex;align-items:center;gap:calc(12px * var(--s));justify-content:center;padding:calc(10px * var(--s)) calc(10px * var(--s)) calc(18px * var(--s))}
.info-box{min-width:52%;max-width:52%;background:var(--panel);border:calc(2px * var(--s)) dashed #f0c419;border-radius:calc(14px * var(--s));
  padding:calc(10px * var(--s)) calc(12px * var(--s));text-align:center;font-weight:700;line-height:1.55;font-size:calc(16px * var(--s))}
.arrow{flex:0 0 auto;width:calc(54px * var(--s));height:calc(54px * var(--s));border-radius:999px;background:#fff;box-shadow:0 4px 14px rgba(0,0,0,.08);
  display:grid;place-items:center;border:1px solid var(--arrow);cursor:pointer;user-select:none}
.arrow svg{width:calc(22px * var(--s));height:calc(22px * var(--s));fill:#6b7280}

.canvas{position:relative;margin:calc(14px * var(--s)) auto calc(6px * var(--s));width:100%;max-width:calc(520px * var(--s));
  aspect-ratio:3/2;background:#fff;border-radius:calc(12px * var(--s));overflow:hidden;display:grid;place-items:center;border:1px solid #e5e7eb}
.canvas img{width:100%;height:100%;object-fit:contain;background:#fff}

.pin{position:absolute;z-index:3;width:calc(44px * var(--s));height:calc(44px * var(--s));border-radius:999px;background:var(--accent);
  box-shadow:0 6px 18px rgba(34,197,94,.35);display:grid;place-items:center;transform:translate(-50%,-50%)}
.pin::after{content:"";display:block;border-left:calc(9px * var(--s)) solid #fff;border-top:calc(6px * var(--s)) solid transparent;border-bottom:calc(6px * var(--s)) solid transparent;margin-left:calc(2px * var(--s))}

.hint{margin:calc(8px * var(--s)) calc(6px * var(--s)) 0;color:var(--muted);text-align:center;line-height:1.6;font-size:calc(15px * var(--s))}
.actions{display:flex;gap:calc(14px * var(--s));justify-content:space-between;margin:calc(16px * var(--s)) 0 calc(10px * var(--s))}
.btn{flex:1 1 0;border:none;border-radius:999px;font-weight:800;padding:calc(16px * var(--s)) calc(10px * var(--s));font-size:calc(18px * var(--s))}
.btn-prim{background:var(--btn-strong)} .btn-ghost{background:var(--btn-weak);color:#1f2937}
.start{width:100%;border:none;border-radius:999px;background:var(--brand);padding:calc(18px * var(--s)) calc(10px * var(--s));
  font-weight:900;font-size:calc(22px * var(--s));letter-spacing:.5px;box-shadow:0 10px 30px rgba(0,0,0,.08)}

/* 错误条：任何失败都不会空白 */
.err{display:none;margin:12px 16px;padding:12px;border-radius:10px;background:#fff1f2;color:#b91c1c;border:1px solid #fecaca;font-weight:700}
.err.show{display:block}
</style>
</head>
<body>
  <div class="bar">
    <div class="bar-row">
      <div class="brand">Smart Postcard</div>
      <div class="tools">
        <div class="pill" id="cartBtn" role
