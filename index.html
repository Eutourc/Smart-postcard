<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Smart Postcard ‚Äî EN v1.8c (explain + v7.4a side big-arrows aligned to postcard edges, symmetric gaps + default Oslo postcard tuned)</title>
  <meta http-equiv="Cache-Control" content="no-store" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <style>
    :root{
      --bw-c1:#10b981; --bw-c2:#22d3ee; --bw-c3:#34d399;
      --brandword-size:26px;
      --title-size:23px;
      --gapTop: 26px; /* header-to-title total gap (was main padding-top 10px + gap1 22px) */
      --title-lh:1.06;
      --title-lh:1.06;

      /* independent gaps for EN */
       /* header ‚Üî title */
      --gap2: 28px; /* title ‚Üî explain */
      --gap3: 28px; /* explain ‚Üî card slot (same as gap2 for symmetry) */

      /* explain bubble exact spec from v7.4a */
      --explain-bg:#FEF9C3;
      --explain-width:70%;
      --explain-minh:72px;
      --explain-pad-y:10px;
      --explain-pad-x:16px;
      --explain-radius:16px;

      --card-border:1px;
      --card-border-color:#d1d5db;
    
      --arrow-fat:22px;
      --arrow-width:26px;
      --edge-fine:-0.5px;}
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:#fff;color:#222;
      font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    img{max-width:100%;display:block}

    /* ===== v1.0 header clone ===== */
    .top{position:sticky;top:0;z-index:50;background:#F5B800;box-shadow:0 2px 12px rgba(0,0,0,.08)}
    .bar{max-width:980px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 14px}
    .brand{display:flex;align-items:center;gap:10px}
    .brand img{width:64px;height:64px;object-fit:contain}
    .brandword{display:flex;flex-direction:column;line-height:1}
    .brandword .l1,.brandword .l2{
      font-weight:900;font-size:var(--brandword-size);letter-spacing:.5px;
      background:linear-gradient(90deg,var(--bw-c1),var(--bw-c2) 55%,var(--bw-c3));
      -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;
      text-shadow:0 1px 1px rgba(0,0,0,.06);
    }
    .actions{display:flex;align-items:center;gap:8px}
    .iconbtn{width:40px;height:40px;display:grid;place-items:center;border-radius:50%;background:#fff;box-shadow:inset 0 0 0 1px rgba(0,0,0,.08)}
    .cart{position:relative}
    .badge{position:absolute;right:-6px;top:-6px;background:#ff4d4f;color:#fff;border-radius:8px;padding:0 5px;font-size:10px;line-height:16px;min-width:16px;height:16px;font-weight:800}
    .langpill{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;background:#fff;box-shadow:inset 0 0 0 1px rgba(0,0,0,.08)}
    .flag{width:22px;height:14px;border-radius:2px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.12)}
    .caret{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:6px solid #222}
    .dropdown{position:absolute; right:58px; top:56px; background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.08); box-shadow:0 12px 28px rgba(0,0,0,.18); overflow:hidden; display:none; min-width:160px}
    .dropdown.open{display:block}
    .dd-item{display:flex;align-items:center;gap:8px;padding:10px 12px;cursor:pointer;font-weight:700}
    .dd-item.current{background:#f5f7fa}
    .dd-flag{width:22px;height:14px;border-radius:2px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.12)}
    .menu{font-size:22px;font-weight:900}
    /* ===== end header ===== */

    .gap{display:block;width:100%;}
    .gapTop{height:var(--gapTop);}
    .gap2{height:var(--gap2);}


    main{max-width:980px;margin:0 auto;min-height:100svh;display:flex;flex-direction:column;padding:0 14px 12px}
    h1.page-title{
      font-size:var(--title-size);
      line-height:var(--title-lh);
      font-weight:800;
      color:#222;
      text-align:center;
      margin:0;
    }

    .stage{display:flex;flex-direction:column;background:#fff;border-radius:20px}

    .explain{
      box-sizing:border-box !important;
      margin:0 auto !important;
      width:var(--explain-width) !important;
      max-width:var(--explain-width) !important;
      min-width:var(--explain-width) !important;
      min-height:var(--explain-minh) !important;
      padding:var(--explain-pad-y) var(--explain-pad-x) !important;
      background:var(--explain-bg) !important;
      border-radius:var(--explain-radius) !important;
      box-shadow:0 2px 6px rgba(0,0,0,.10) !important;
      text-align:center !important;
      white-space:normal !important;
      word-break:keep-all !important;
      overflow-wrap:anywhere !important;
      overflow:hidden !important;
      font-size:18px !important; line-height:1.10 !important; font-weight:500; color:#222;
    }

    .viewer{position:relative;margin-top:var(--gap3);}
    .cardbox{
      position:relative;
      flex:0 1 88%;
      margin:0 auto;
      max-width:640px;
      border-radius:0;
      overflow:visible;
      background:transparent;
      border:none;
      box-shadow:none;
    }

    .version{text-align:center;color:#8b95a3;font-size:12px;margin:12px 0 20px}
  
/* === v7.4a title micro-tune (size 23px) === */
.sp-en-title{}


/* === v7.4a side big-arrows (copied) === */
.big-arrow{
  position:absolute;
  width:0;height:0;
  border:0;
  background:transparent;
  padding:0;
  pointer-events:none;
  z-index:2;
}
.big-arrow.left{ left:0; }
.big-arrow.left::before{
  content:"";
  display:block;
  width:0;height:0;
  border-top:var(--arrow-fat) solid transparent;
  border-bottom:var(--arrow-fat) solid transparent;
  border-right:var(--arrow-width) solid #0b3a77;
  /* base line exactly at postcard left edge */
  margin-left: calc(-1 * var(--arrow-width));
  filter:drop-shadow(0 1px 2px rgba(0,0,0,.18));
}
.big-arrow.right{ right:0; }
.big-arrow.right::before{
  content:"";
  display:block;
  width:0;height:0;
  border-top:var(--arrow-fat) solid transparent;
  border-bottom:var(--arrow-fat) solid transparent;
  border-left:var(--arrow-width) solid #0b3a77;
  filter:drop-shadow(0 1px 2px rgba(0,0,0,.18));
}
.card-placeholder{
  width:100%;
  padding:120px 12px;
  text-align:center;
  font-size:14px;
  color:#9ca3af;
}
/* === end side big-arrows === */

    .cardbox-inner{
      position:relative;
      width:100%;
      padding-top:70%;
      background:transparent;
      overflow:hidden;
    }
    .cardbox-inner::before{content:none;}
</style>
<style>
.explain{
  margin: 0 auto !important;    /* ‰∏é‰πãÂâçÁ¨¨3Â§Ñ‰øùÊåÅ‰∏ÄËá¥ */
  padding: 10px 18px !important;      /* Áï•Êî∂Á¥ßÂÜÖÈÉ®Á©∫Èó¥ */
  font-size: 14px !important;         /* Â≠óÂè∑Áº©Â∞è */
  line-height: 1.16 !important;       /* Ë°åÈó¥Ë∑ùÂáèÂ∞è */
  border-radius: 14px !important;     /* ‰øùÊåÅÂúÜËßíÔºåÁï•Â∞èÊõ¥Á≤æËá¥ */
  box-sizing: border-box;
  max-width: 85%;
}
</style>
</head>
<body>
<header class="top">
 <div class="bar">
  <div class="brand">
   <img alt="Smart Postcard" src="Logo.png"/>
   <div class="brandword">
    <span class="l1">Smart</span>
    <span class="l2">Postcard</span>
   </div>
  </div>
  <div class="actions">
   <div class="iconbtn cart"><span style="font-size:18px">üõí</span><span class="badge" id="cart-badge">0</span></div>
   <div class="langpill" id="lang-pill">
     <span class="flag" id="flag" style="background:linear-gradient(90deg,#00247d 0 33%, #fff 33% 66%, #cf142b 66%);"></span>
     <span class="caret"></span>
   </div>
   <div class="dropdown" id="lang-dd">
     <div class="dd-item current" data-lang="en"><span class="dd-flag" style="background:linear-gradient(90deg,#00247d 0 33%, #fff 33% 66%, #cf142b 66%);"></span><span>English</span></div>
     <div class="dd-item" data-lang="zh"><span class="dd-flag" style="background:linear-gradient(180deg,#de2910 0 50%, #ffde00 50% 100%);"></span><span>‰∏≠Êñá</span></div>
   </div>
   <div aria-label="menu" class="iconbtn"><span class="menu">‚â°</span></div>
  </div>
 </div>
</header>

<main>
  <div class="gap gapTop" aria-hidden="true"></div>
  <h1 class="page-title sp-en-title">Treasure Your One‚ÄëOf‚ÄëA‚ÄëKind<br/>Souvenir Postcard</h1>
  <div class="gap gap2" aria-hidden="true"></div>

  <section class="stage">
    <div class="explain" id="explain">Please fill in the mailing address!<br/>Country names must be English!<br/>See example in the address field!</div>
    <div class="viewer">
      <div class="cardbox" id="cardbox">
        <button aria-label="Previous stop" class="big-arrow left" id="prev"></button>
        <button aria-label="Next stop" class="big-arrow right" id="next"></button>
        <div class="cardbox-inner" id="cardbox-inner">
        <img id="pc-img" alt="Smart Postcard sample" src="postcard-oslo-en-sample.png" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:block;border-radius:0;border:1px solid #9ca3af;">
        <div id="pc-hint" style="position:absolute;inset:0;display:none;align-items:center;justify-content:center;font-size:14px;color:#9ca3af;text-align:center;padding:0 12px;">
          Tap here to load a postcard image
        </div>
      </div>
      </div>
      <input type="file" id="pc-file" accept="image/*" style="display:none;">
    </div>
  </section>

  <div class="version">251118 ‚Äî EN v1.8c (same layout as v1.7, plus v7.4a side big-arrows aligned to postcard edges, symmetric gaps + default Oslo postcard tuned)</div>
</main>

<script>
(function(){
  const pill = document.getElementById('lang-pill');
  const dd = document.getElementById('lang-dd');
  if(!pill || !dd) return;
  pill.addEventListener('click', (e)=>{ e.stopPropagation(); dd.classList.toggle('open'); });
  document.addEventListener('click', ()=> dd.classList.remove('open'));
})();
</script>

<script>
(function(){
  function positionArrows(){
    var ex = document.getElementById('explain');
    var cb = document.getElementById('cardbox');
    var prev = document.getElementById('prev');
    var next = document.getElementById('next');
    if(!ex || !cb || !prev || !next) return;
    var er = ex.getBoundingClientRect();
    var cr = cb.getBoundingClientRect();
    var centerY = er.top + er.height/2;
    var y = centerY - cr.top - 22; // ÂçäÈ´ò22pxÔºåÁ°Æ‰øùËßÜËßâÂ±Ö‰∏≠
    prev.style.top = y + 'px';
    next.style.top = y + 'px';
  }
  window.addEventListener('DOMContentLoaded', positionArrows);
  window.addEventListener('load', positionArrows);
  window.addEventListener('resize', positionArrows);
  window.addEventListener('orientationchange', positionArrows);
  setTimeout(positionArrows, 80);
})()
</script>

<script>
(function(){
  var box = document.getElementById('cardbox-inner');
  var img = document.getElementById('pc-img');
  var hint = document.getElementById('pc-hint');
  var input = document.getElementById('pc-file');
  if(!box || !img || !input) return;
  // restore last postcard if remembered
  try{
    var saved = window.localStorage && localStorage.getItem('sp_demo_postcard');
    if(saved){
      img.src = saved;
      img.style.display = 'block';
      if(hint) hint.style.display = 'none';
    }
  }catch(e){}
  box.addEventListener('click', function(){
    input.click();
  });
  input.addEventListener('change', function(e){
    var file = e.target.files && e.target.files[0];
    if(!file) return;
    var reader = new FileReader();
    reader.onload = function(ev){
      var data = ev.target.result || '';
      img.src = data;
      img.style.display = 'block';
      if(hint) hint.style.display = 'none';
      try{
        window.localStorage && localStorage.setItem('sp_demo_postcard', data);
      }catch(e){}
    };
    reader.readAsDataURL(file);
  });
})();
</script>
</body>
</html>
