<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>Smart Postcard – Mobile Home</title>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>

<style>
  :root{ --bg:#f6f8fa; --btn:#4A90E2; --btnText:#fff; --txt:#2a3b47; --muted:#6b7b86; --chip:#e9eef3; }
  body.theme-a{ --bg:#f6f8fa; --btn:#4A90E2; --btnText:#fff; --txt:#2a3b47; --muted:#6b7b86; --chip:#e9eef3; }
  body.theme-b{ --bg:#fff8ef; --btn:#FF7F50; --btnText:#fff; --txt:#3a2a1a; --muted:#8b6b5b; --chip:#ffe5cf; }
  body.theme-c{ --bg:#f5f3fa; --btn:#8A5FFF; --btnText:#fff; --txt:#2f2942; --muted:#746a8f; --chip:#ece8f8; }
  body.theme-d{ --bg:#f0fff6; --btn:#28a745; --btnText:#fff; --txt:#1f3a29; --muted:#5d7a67; --chip:#dff6e9; }
  body.theme-e{ --bg:#0f1216; --btn:#d7b46a; --btnText:#0f1216; --txt:#eaeaea; --muted:#b6b6b6; --chip:#1a1e24; }
  body.theme-f{ --bg:#ffffff; --btn:#5f6c7b; --btnText:#ffffff; --txt:#1e2329; --muted:#77808a; --chip:#eef2f6; }
  body.theme-g{ --bg:#fff5f5; --btn:#cc1f2a; --btnText:#fff; --txt:#2b1111; --muted:#9f5b5b; --chip:#ffe1e1; }
  body.theme-h{ --bg:#ecfbff; --btn:#08a6c9; --btnText:#fff; --txt:#08343f; --muted:#4f7f8b; --chip:#d8f3f9; }

  html,body{ margin:0; padding:0; height:100%; background:var(--bg); color:var(--txt);
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"PingFang SC","Noto Sans SC",sans-serif; }
  body::before{ content:""; position:fixed; inset:0;
    background:radial-gradient(120% 120% at 50% -10%, rgba(0,0,0,0) 55%, rgba(0,0,0,.18) 85%, rgba(0,0,0,.26) 100%);
    pointer-events:none; z-index:0; }

  .page{ position:relative; z-index:1; min-height:100vh; display:flex; flex-direction:column; }

  .hero{ position:relative; height:96px; background:#cfd9df url('header.jpg') center/cover no-repeat;
    display:flex; align-items:center; justify-content:space-between; padding:0 16px; color:#fff; text-shadow:0 2px 6px rgba(0,0,0,.35); }
  .logo{ font-size:28px; font-weight:700; letter-spacing:.5px }
  .top-icons{ display:flex; gap:12px; align-items:center }
  .pill{ background:rgba(255,255,255,.25); backdrop-filter:saturate(1.2) blur(2px); padding:6px 10px; border-radius:999px; font-size:14px }
  .lang{ background:rgba(255,255,255,.25); border:1px solid rgba(255,255,255,.4); color:#fff; border-radius:999px; padding:6px 12px; font-size:14px }

  .card{ flex:1; display:flex; flex-direction:column; gap:16px; padding:16px; max-width:540px; margin:0 auto }
  .title{ margin:6px 0 4px; font-size:26px; line-height:1.25; text-align:center; color:var(--txt) }
  .chip{ background:var(--chip); border-radius:12px; padding:12px 14px; text-align:center; color:var(--txt); line-height:1.35 }

  .carousel{ position:relative; margin-top:2px }
  .poster{ width:100%; aspect-ratio:3/2; display:block; object-fit:contain; background:#fff; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.1) }
  .arrow{ position:absolute; top:50%; transform:translateY(-50%); width:40px; height:40px; border-radius:50%;
    display:grid; place-items:center; background:#ffffffcc; border:0; color:#3b4a55; box-shadow:0 4px 12px rgba(0,0,0,.12) }
  .arrow.left{ left:-6px } .arrow.right{ right:-6px }
  .hint{ position:absolute; right:12px; bottom:-10px; font-size:20px; color:#2abf4a; filter:drop-shadow(0 2px 3px rgba(0,0,0,.2)); }

  .bullet{ margin-top:10px; text-align:center; color:var(--muted); font-size:13px }
  .btns{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:4px }
  .btn-grey{ background:rgba(0,0,0,.06); color:var(--txt); border:none; border-radius:999px; padding:10px 16px; font-weight:600 }

  .cta{ margin:16px auto 26px; max-width:540px; text-align:center }
  .start{ width:88%; max-width:380px; height:52px; border:none; border-radius:999px; background:var(--btn); color:var(--btnText);
    font-size:21px; font-weight:800; box-shadow:0 10px 24px color-mix(in srgb, var(--btn) 35%, transparent); transition:transform .08s ease, filter .2s ease; }
  .start:active{ transform:translateY(1px) scale(.995); filter:brightness(.98) }

  .footnote{ margin-top:4px; text-align:center; color:var(--muted); font-size:12px }

  .theme-switcher{ position:fixed; right:10px; bottom:12px; display:flex; gap:8px; z-index:5 }
  .swatch{ width:22px; height:22px; border-radius:50%; border:2px solid #fff; box-shadow:0 3px 8px rgba(0,0,0,.2); cursor:pointer; }
  .swatch.a{ background:#4A90E2 } .swatch.b{ background:#FF7F50 } .swatch.c{ background:#8A5FFF } .swatch.d{ background:#28a745 }
  .swatch.e{ background:#d7b46a } .swatch.f{ background:#5f6c7b } .swatch.g{ background:#cc1f2a } .swatch.h{ background:#08a6c9 }

  /* 密码覆盖层（替代 prompt，确保永不空白） */
  .gate{ position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center; z-index:10 }
  .gate .panel{ width:min(92%,420px); background:#fff; border-radius:14px; padding:20px; box-shadow:0 10px 30px rgba(0,0,0,.25); text-align:center }
  .gate h2{ margin:0 0 8px; font-size:20px }
  .gate input{ width:100%; box-sizing:border-box; padding:12px; font-size:16px; border:1px solid #d0d7de; border-radius:10px }
  .gate button{ margin-top:12px; width:100%; padding:12px; border:none; border-radius:10px; background:#4A90E2; color:#fff; font-size:16px; font-weight:700 }
  .gate .msg{ margin-top:8px; color:#c62828; font-size:14px; min-height:1.2em }

  /* 顶部调试条（如图片路径问题时可见） */
  .debug{ position:fixed; top:0; left:0; right:0; background:#fff3cd; color:#663c00; padding:6px 10px; font-size:12px; display:none; z-index:11 }
</style>

</head>
<body>
  <div class="debug" id="debugBar">Debug: </div>

  <div class="page" aria-hidden="true" id="app">
    <header class="hero" role="banner" aria-label="Top banner">
      <div class="logo">Smart Postcard</div>
      <div class="top-icons">
        <div class="pill">🛒 0</div>
        <button class="lang" onclick="toggleLang(this)" aria-label="Language">EN</button>
      </div>
    </header>

    <main class="card">
      <h1 class="title">Create your unique postcard</h1>
      <div class="chip">
        Treasure your own photo to be<br/>stamp &amp; postcard images offered<br/>first in the world &amp; printed only for you
      </div>

      <section class="carousel" aria-label="Postcard preview carousel">
        <button class="arrow left" aria-label="Previous" onclick="prev()">◀</button>
        <img id="poster" class="poster" src="" alt="Postcard preview"/>
        <button class="arrow right" aria-label="Next" onclick="next()">▶</button>
        <div class="hint">▾</div>
      </section>

      <p class="bullet">
        Easily make, Physically print · Souvenir, Philately, Worldwide post ·
        Photo print, A5 big size, Value for money
      </p>

      <div class="btns" role="group" aria-label="Type choices">
        <button class="btn-grey" onclick="goSouvenir()">Souvenir Postcard</button>
        <button class="btn-grey" onclick="goTraditional()">Traditional Postcard</button>
      </div>
    </main>

    <div class="cta">
      <button class="start" onclick="goStart()">Start</button>
      <div class="footnote">© Smart Postcard — mobile preview</div>
    </div>
  </div>

  <!-- 右下角主题切换（8 色） -->
  <div class="theme-switcher" aria-label="Theme Switcher">
    <div class="swatch a" title="清新蓝" onclick="setTheme('a')"></div>
    <div class="swatch b" title="温暖橙" onclick="setTheme('b')"></div>
    <div class="swatch c" title="高雅紫" onclick="setTheme('c')"></div>
    <div class="swatch d" title="自然绿" onclick="setTheme('d')"></div>
    <div class="swatch e" title="典雅黑金" onclick="setTheme('e')"></div>
    <div class="swatch f" title="极简白灰" onclick="setTheme('f')"></div>
    <div class="swatch g" title="活力红" onclick="setTheme('g')"></div>
    <div class="swatch h" title="海洋青绿" onclick="setTheme('h')"></div>
  </div>

  <!-- 密码覆盖层（总能显示） -->
  <div class="gate" id="gate">
    <div class="panel">
      <h2>请输入访问密码</h2>
      <p>（8个“8”）</p>
      <input id="pwd" type="password" inputmode="numeric" autocomplete="one-time-code" placeholder="********"/>
      <button onclick="unlock()">进入</button>
      <div class="msg" id="msg"></div>
    </div>
  </div>

<script>
  // ===== 主题切换（记忆） =====
  (function(){
    var saved = localStorage.getItem('np_theme') || 'a';
    document.body.classList.add('theme-'+saved);
    window.setTheme = function(key){
      document.body.classList.remove('theme-a','theme-b','theme-c','theme-d','theme-e','theme-f','theme-g','theme-h');
      document.body.classList.add('theme-'+key);
      localStorage.setItem('np_theme', key);
    };
  })();

  // ===== 轮播（可扩展） =====
  const images = ["mobile_homepage.jpg"];
  let idx = 0;
  function show(n){
    idx=(n+images.length)%images.length;
    const img = document.getElementById('poster');
    const url = images[idx] + '?t=' + Date.now(); // 强制不缓存
    img.onerror = function(){
      document.getElementById('debugBar').style.display='block';
      document.getElementById('debugBar').textContent = 'Debug: 找不到图片 ' + images[idx] + '（请确认文件名与位置）';
    };
    img.src = url;
  }
  function prev(){ show(idx-1); } function next(){ show(idx+1); }

  // ===== 语言占位 =====
  function toggleLang(el){ el.textContent = el.textContent === 'EN' ? '中文' : 'EN'; }

  // ===== 跳转占位 =====
  function goSouvenir(){ location.href='souvenir.html'; }
  function goTraditional(){ location.href='traditional.html'; }
  function goStart(){ location.href='maker.html'; }

  // ===== 密码覆盖层：替代 prompt，永不空白 =====
  function unlock(){
    var v = (document.getElementById('pwd').value || '').trim();
    if(v === '88888888'){
      sessionStorage.setItem('np_access_ok','1');
      document.getElementById('gate').style.display='none';
      document.getElementById('app').setAttribute('aria-hidden','false');
      show(0);
    }else{
      document.getElementById('msg').textContent = '密码错误，请重试';
    }
  }

  // 初始：若已验证过，直接进入
  (function(){
    if(sessionStorage.getItem('np_access_ok') === '1'){
      document.getElementById('gate').style.display='none';
      document.getElementById('app').setAttribute('aria-hidden','false');
      show(0);
    }else{
      // 等用户输入密码后再 show(0)
      document.getElementById('app').setAttribute('aria-hidden','true');
    }
  })();
</script>
</body>
</html>
