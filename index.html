<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
<title>Smart Postcard — mobile preview</title>
<!-- 强制无缓存 -->
<meta http-equiv="Cache-Control" content="no-store, max-age=0, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<style>
  :root{--brand:#F6C415;--ink:#1F2937;--muted:#6B7280;--btn:#F4B400;--ghost:#E5E7EB;}
  html,body{margin:0;height:100%;background:#fff;color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;overflow:hidden;}
  #screen{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;}
  #ui{width:390px;height:720px;transform-origin:top center;}

  /* 顶栏 */
  .bar{position:relative;background:var(--brand);height:56px;display:flex;align-items:center;justify-content:space-between;padding:0 14px;font-weight:800;font-size:20px;box-shadow:0 2px 0 rgba(0,0,0,.06);border-radius:0 0 10px 10px;}
  .bar-right{display:flex;align-items:center;gap:10px;}
  .icon-btn{position:relative;background:#fff;border-radius:999px;padding:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 2px 4px rgba(0,0,0,.1)}
  .icon-btn svg{width:18px;height:18px;fill:#000;}
  .badge{position:absolute;top:2px;right:2px;background:red;color:#fff;font-size:10px;font-weight:700;border-radius:999px;padding:0 4px;min-width:14px;line-height:14px;text-align:center}
  .lang{display:flex;gap:6px}
  .pill{background:#fff;padding:5px 9px;border-radius:999px;font-weight:700;cursor:pointer;font-size:12px}
  .pill.active{background:#000;color:#FFD94A}

  /* 主体 */
  .wrap{padding:12px 14px 10px}
  h1{font-size:26px;line-height:1.2;margin:8px 0 10px}
  .tip{background:#FFEFAF;border-radius:12px;padding:10px 12px;color:#333;font-size:14px}
  .stage{position:relative;margin:10px auto 4px;width:100%;height:330px;background:#fff;border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.08);overflow:hidden}
  .card{position:absolute;left:20px;right:20px;top:18px;bottom:18px;background:#fff center/contain no-repeat;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.06)}
  .bubble{position:absolute;z-index:5;padding:6px 8px;background:rgba(255,255,220,.95);border:2px dashed #E6C200;border-radius:10px;width:150px;text-align:center;font-size:14px;line-height:1.45;transform:translate(-50%,-50%)}
  .arrow{position:absolute;z-index:6;width:46px;height:46px;border-radius:999px;background:#fff;box-shadow:0 6px 16px rgba(0,0,0,.12);display:flex;align-items:center;justify-content:center;transform:translate(-50%,-50%)}
  .arrow svg{width:18px;height:18px;fill:#4B5563}
  .actions{display:flex;gap:12px;margin:8px 0 6px}
  .btn{flex:1;padding:12px 14px;border-radius:999px;font-weight:800;text-align:center;background:var(--btn);box-shadow:0 4px 12px rgba(0,0,0,.08)}
  .btn.ghost{background:var(--ghost)}
  .foot{margin-top:4px;color:var(--muted);font-size:12px;text-align:center}
</style>
</head>
<body>
<div id="screen">
  <div id="ui">
    <!-- 顶栏 -->
    <div class="bar">
      <div>Smart Postcard</div>
      <div class="bar-right">
        <!-- 购物车 -->
        <div class="icon-btn" id="cart">
          <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 
          0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 
          2 2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h8.99c.75 
          0 1.41-.41 1.75-1.03l3.58-6.49a.996.996 
          0 00-.86-1.48H5.21l-.94-2H1v2h2l3.6 
          7.59-1.35 2.44C4.52 15.37 5.48 
          17 7 17h12v-2H7.42c-.14 0-.25-.11-.26-.24z"/></svg>
          <span class="badge" id="cart-count">0</span>
        </div>
        <!-- 语言 -->
        <div class="lang">
          <span class="pill" data-lang="en">EN</span>
          <span class="pill active" data-lang="cn">中文</span>
        </div>
        <!-- 菜单 -->
        <div class="icon-btn" id="menu">
          <svg viewBox="0 0 24 24"><path d="M3 12h18v2H3v-2zm0-5h18v2H3V7zm0 10h18v2H3v-2z"/></svg>
        </div>
      </div>
    </div>

    <!-- 主体 -->
    <div class="wrap">
      <h1 id="title">创建你的专属明信片</h1>
      <div class="tip" id="lead">把你的照片做成邮票与明信片图案，世界首创，仅为你打印</div>
      <div class="stage" id="stage">
        <div class="card" id="card"></div>
        <div class="bubble" id="bubble">【邮票】：自定义“邮票图案”。</div>
        <button class="arrow" id="prev"><svg viewBox="0 0 24 24"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg></button>
        <button class="arrow" id="next"><svg viewBox="0 0 24 24"><path d="M8.59 16.59 10 18l6-6-6-6-1.41 1.41L13.17 12z"/></svg></button>
      </div>
      <div class="actions">
        <div class="btn" id="souvenir">Souvenir Postcard</div>
        <div class="btn ghost" id="traditional">Traditional Postcard</div>
      </div>
      <div class="actions" style="margin-top:4px">
        <div class="btn" id="start">Start</div>
      </div>
      <div class="foot">
        © Smart Postcard — mobile preview<br>
        <span id="build">Build v20001 • 2025-08-31</span>
      </div>
    </div>
  </div>
</div>

<script>
(()=>{

  const imgs={cn:'postcard_cn.png',en:'postcard_en.png'};
  const texts={
    cn:['【邮票】：自定义“邮票图案”。','【到此一游】：生成“坐标二维码”。','【视频/音频】：添加“影音二维码”。','【落款城市】：自动“城市图章”。'],
    en:['[Stamp]: Customize your stamp image.','[My Location]: Generate a geo QR.','[Video/Audio]: Attach a media QR.','[City Seal]: Auto-apply destination mark.']
  };

  const title=document.getElementById('title');
  const lead=document.getElementById('lead');
  const card=document.getElementById('card');
  const bubble=document.getElementById('bubble');
  const prev=document.getElementById('prev');
  const next=document.getElementById('next');
  const stage=document.getElementById('stage');
  const langBtns=document.querySelectorAll('.pill');

  const path=[{x:86,y:20},{x:14,y:20},{x:14,y:86},{x:86,y:86}];
  const state={lang:'cn',step:0};

  function setLang(lang){
    state.lang=lang;
    langBtns.forEach(p=>p.classList.toggle('active',p.dataset.lang===lang));
    card.style.backgroundImage=`url('${imgs[lang]}?v=20001')`;
    if(lang==='cn'){
      title.textContent='创建你的专属明信片';
      lead.textContent='把你的照片做成邮票与明信片图案，世界首创，仅为你打印';
    }else{
      title.textContent='Create your unique postcard';
      lead.textContent='Treasure your own photo to be stamp & postcard images offered first in the world & printed only for you';
    }
    state.step=0; placeBubble(); renderText();
  }
  function placeBubble(){
    const p=path[state.step%path.length];
    bubble.style.left=p.x+'%'; bubble.style.top=p.y+'%';
    const rect=stage.getBoundingClientRect(); const bw=150;
    const cx=p.x/100*rect.width; const cy=p.y/100*rect.height; const gap=12;
    prev.style.left=((cx-bw/2-gap)/rect.width*100)+'%'; next.style.left=((cx+bw/2+gap)/rect.width*100)+'%';
    prev.style.top=next.style.top=p.y+'%';
  }
  function renderText(){bubble.textContent=texts[state.lang][state.step%texts[state.lang].length];}
  function step(d){state.step=(state.step+d+path.length)%path.length;placeBubble();renderText();}
  next.addEventListener('click',()=>step(1)); prev.addEventListener('click',()=>step(-1));
  stage.addEventListener('touchstart',e=>{sx=e.touches[0].clientX;tracking=true;},{passive:true});
  stage.addEventListener('touchend',e=>{if(!tracking)return;tracking=false;const dx=e.changedTouches[0].clientX-sx;if(Math.abs(dx)>24)(dx<0)?step(1):step(-1);},{passive:true});
  langBtns.forEach(p=>p.addEventListener('click',()=>setLang(p.dataset.lang)));
  setLang('cn'); window.addEventListener('resize',placeBubble);

})();
</script>
  <!-- Language dropdown: paste just before </body> -->
<style>
  .sp-lang-chip{position:fixed;top:14px;right:72px;z-index:9999;
    background:#fff; border:1px solid rgba(0,0,0,.1); box-shadow:0 4px 16px rgba(0,0,0,.12);
    height:36px; padding:0 12px; border-radius:18px; display:flex; align-items:center; gap:8px;
    font-weight:700; font-size:14px; line-height:1; }
  .sp-lang-dot{width:8px;height:8px;border-radius:50%;background:#111;}
  .sp-lang-caret{border:solid #333;border-width:0 2px 2px 0;display:inline-block;padding:3px;
    transform:rotate(45deg);margin-left:2px;}
  .sp-lang-menu{position:fixed;top:56px;right:60px;z-index:9999; width:180px;
    background:#fff;border:1px solid rgba(0,0,0,.1); border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.16);
    overflow:hidden; display:none;}
  .sp-lang-item{padding:12px 14px; display:flex; align-items:center; gap:10px; font-size:15px;}
  .sp-lang-item:hover{background:#fff7cc;}
  .sp-lang-flag{width:18px;height:18px;border-radius:50%; background:#eee; border:1px solid #ddd;}
  .sp-lang-mask{position:fixed; inset:0; background:transparent; display:none; z-index:9998;}
  @media (min-width:768px){ .sp-lang-chip{top:18px;right:88px} .sp-lang-menu{top:60px;right:76px} }
</style>

<div class="sp-lang-chip" id="spLangChip" role="button" aria-haspopup="true" aria-expanded="false">
  <span class="sp-lang-dot" id="spLangDot"></span>
  <span id="spLangLabel">EN</span>
  <i class="sp-lang-caret"></i>
</div>
<div class="sp-lang-menu" id="spLangMenu" role="menu"></div>
<div class="sp-lang-mask" id="spLangMask"></div>

<script>
(function(){
  const options = [
    {code:'en', label:'EN'},
    {code:'zh', label:'中文'},
    {code:'ja', label:'日本語'},
    {code:'fr', label:'FR'}
  ];
  const $chip = document.getElementById('spLangChip');
  const $menu = document.getElementById('spLangMenu');
  const $mask = document.getElementById('spLangMask');
  const $label= document.getElementById('spLangLabel');
  const $dot  = document.getElementById('spLangDot');

  const saved = localStorage.getItem('sp:lang') || (document.documentElement.lang||'en').toLowerCase();
  setLang(saved, false);
  renderMenu();

  function renderMenu(){
    $menu.innerHTML = '';
    options.forEach(opt=>{
      const item = document.createElement('div');
      item.className = 'sp-lang-item';
      item.setAttribute('role','menuitem');
      item.innerHTML = `<span class="sp-lang-flag"></span><span>${opt.label}</span>`;
      item.addEventListener('click', ()=> setLang(opt.code, true));
      $menu.appendChild(item);
    });
  }

  function setLang(code, persist){
    const opt = options.find(o=>o.code===code) || options[0];
    document.documentElement.setAttribute('lang', opt.code);
    $label.textContent = opt.label;
    $dot.style.background = '#111'; // 可改为不同颜色区分
    if (persist) localStorage.setItem('sp:lang', opt.code);
    closeMenu();
    // 供后续多语言文案使用：
    window.__SP_LANG__ = opt.code;
    document.dispatchEvent(new CustomEvent('sp:langchange', {detail: opt.code}));
  }

  function openMenu(){
    $menu.style.display='block'; $mask.style.display='block';
    $chip.setAttribute('aria-expanded','true');
  }
  function closeMenu(){
    $menu.style.display='none'; $mask.style.display='none';
    $chip.setAttribute('aria-expanded','false');
  }

  $chip.addEventListener('click', (e)=>{
    e.stopPropagation();
    ($menu.style.display==='block') ? closeMenu() : openMenu();
  });
  $mask.addEventListener('click', closeMenu);
  // 键盘无障碍
  document.addEventListener('keydown', (e)=> { if(e.key==='Escape') closeMenu(); });
})();
</script>
</body>
</html>
